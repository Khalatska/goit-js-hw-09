{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\n\nform.addEventListener('input' , e => {\n    const userEmail = form.elements.email.value.trim();\n    const userMessage = form.elements.message.value.trim();\n    \n    const obj = {\n      email: userEmail,\n      message: userMessage,\n    }\nsaveToLs(localStorageKey, obj);\n});\n\n\nfunction restoreData () {\n const data = loadFromLs(localStorageKey);\n\n form.elements.email.value = data?.email || '';\n form.elements.message.value = data?.message || '';\n} \n\nrestoreData();\n\n\nform.addEventListener('submit', e => { \n e.preventDefault();\n const data = loadFromLs(localStorageKey) || {};\n if (data.email === ''|| data.message === '') {return;}\n\n console.log(data);\n localStorage.removeItem(localStorageKey);\n form.reset();\n});\n\n\n\nfunction saveToLs (key, value) {\nconst jsonData = JSON.stringify(value);\nlocalStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLs (key) {\n const data = localStorage.getItem(key);\n try { \n    const result = JSON.parse(data);\n    return result;\n } catch { \n    return data; \n}\n}\n\n\n \n\n"],"names":["form","localStorageKey","userEmail","userMessage","saveToLs","restoreData","data","loadFromLs","key","value","jsonData"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBAExBD,EAAK,iBAAiB,QAAU,GAAK,CACjC,MAAME,EAAYF,EAAK,SAAS,MAAM,MAAM,OACtCG,EAAcH,EAAK,SAAS,QAAQ,MAAM,OAMpDI,EAASH,EAJO,CACV,MAAOC,EACP,QAASC,CACV,CACwB,CAC7B,CAAC,EAGD,SAASE,GAAe,CACvB,MAAMC,EAAOC,EAAWN,CAAe,EAEvCD,EAAK,SAAS,MAAM,OAAQM,GAAA,YAAAA,EAAM,QAAS,GAC3CN,EAAK,SAAS,QAAQ,OAAQM,GAAA,YAAAA,EAAM,UAAW,EAChD,CAEAD,IAGAL,EAAK,iBAAiB,SAAU,GAAK,CACpC,EAAE,eAAc,EAChB,MAAMM,EAAOC,EAAWN,CAAe,GAAK,CAAA,EACxCK,EAAK,QAAU,IAAKA,EAAK,UAAY,KAEzC,QAAQ,IAAIA,CAAI,EAChB,aAAa,WAAWL,CAAe,EACvCD,EAAK,MAAK,EACX,CAAC,EAID,SAASI,EAAUI,EAAKC,EAAO,CAC/B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CAClC,CAEA,SAASH,EAAYC,EAAK,CACzB,MAAMF,EAAO,aAAa,QAAQE,CAAG,EACrC,GAAI,CAED,OADe,KAAK,MAAMF,CAAI,CAElC,MAAG,CACC,OAAOA,CACX,CACA"}